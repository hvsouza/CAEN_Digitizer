#+STARTUP: inlineimages
#+STARTUP: showeverything

* CAEN DIGITIZER 
Author: Henrique Vieira de Souza, APC – Paris

henriquevieira.souza@gmail.com 


* Table of Contents
  :PROPERTIES:
  :TOC:      :include all
  :END:
:CONTENTS:
- [[#caen-digitizer][CAEN DIGITIZER]]
- [[#table-of-contents][Table of Contents]]
- [[#introduction][Introduction]]
- [[#wavedump][Wavedump]]
  - [[#installation][Installation]]
- [[#qtcreator][QtCreator]]
  - [[#installation][Installation]]
- [[#extra-creating-a-shortcut-for-wavedump][Extra: Creating a shortcut for Wavedump]]
- [[#extra-creating-short-cut][Extra: Creating short cut]]
- [[#extra-creating-short-cut][Extra: Creating short cut]]
:END:



* Introduction
[[#qtcreator][qt]]   
This documents servers do clarify and help the data acquisition with the CAEN digitizer. All the softwares and drivers are availabe at [[http:://caen.it][caen.it]]. 

The acquisition is done with Wavedump, a free software distributed by CAEN. The versions modified by the me have two minor implementations: (1) continuous writing will save only 10,000 waveforms and stop and (2) one can change the number of points per waveform saved, this decreases the sampling rate from 2 ns to 4 ns, for example, by skipping one point.

Please, keep in mind that the implementation (2) will not reduce the acquisition rate of the digitizer, just of the saved waveforms. 

Wavedump will only save data in a file named wave0.dat when saving as BINARY (or wave0.txt when saving as ASCII). I am assuming you have wisely chosen binary as format. 
Wave0.dat refers to the waveforms of channel 0, while wave1.dat refers to channel 1.

If you want to save several .dat data files you need to move these waveX.dat files to another folder before saving new ones. As this task can be very tedious,  I’ve created a GUI with QtCreator to transfer the files and menage data taking more efficiently. The GUI is not mandatory, it should just make your life easier! 

Text in italic and quoted are commands you can copy and paste at the terminal.

Please, make sure you have “make” and “cmake” installed. The software “gnuplot” is also necessary but it will be installed in the installation scripts.
Please, if you find any bug, miss information or some nasty mistake, please feel free to talk to me by email.


* Wavedump

** Installation
   Clone this repositiory inside the "Documents" folder:
   #+begin_src bash
   cd ~/Documents
   git clone https://github.com/hvsouza/CAEN_Digitizer.git
   cd CAEN_Digitizer
   #+end_src

   
   [[https://github.com/hvsouza/CAEN_Digitizer/blob/master/.repo_img/continuous_ex.png]] 

   To install the digitizer drivers and wavedump there are a few requirements and steps. I invite the user to read the manual of the digitizer and wavedump and also to search about the installation.
   
   There is a script named “caen_installation.sh”. The script will install the required softwares and drivers and applied the changes to customize to the version created by me. As this is done in a single step, there will be 3 seconds to check for errors output. If you see any, please, try to fix it before installing everything. NOTE: you need to disable “Secure Boot” at the BIOS.
   
   #+begin_src bash
   ./caen_installation.sh
   #+end_src
   
   If you are installing for the first time, you probably need to restart the computer. 
   If the digitizer is connected and installation was successfully, open a terminal and just type “wavedump”, it should show you something like this output:

   The script has also created the folder: “~/Desktop/WaveDumpData”. To use the GUI, you need to execute wavedump while inside that folder, so wavedump will save the data there. 
   
   There are other customizations you can do, you can take a look at it here [[#extra-creating-a-shortcut-for-wavedump]]

   If you want to quicky remove the changes I made in wavedump, please look at Extra B




* QtCreator
** Installation

* Extra: Creating a shortcut for Wavedump
* Extra: Creating short cut
* Extra: Creating short cut
